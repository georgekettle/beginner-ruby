<% title = feedback.persisted? ? 'Update your feedback' : 'Leave your feedback' %>

<div data-controller="portal" data-portal-close-hotkeys-value="<%= ["Escape"] %>">
  <button data-action="click->portal#open"
          class="flex items-center justify-center rounded-full h-10 w-10 border border-gray-200 dark:border-none bg-white hover:border-gray-300 shadow-sm text-red-600 dark:text-red-400 dark:bg-slate-700">
    <%= heroicon 'hand-thumb-down', options: { class:"h-5 w-5" } %>
  </button>

  <div data-portal-target="container" class="hidden">
    <%= render 'components/modals/backdrop', width: 'md' do %>
      <div class="p-8 space-y-6">
        <div class="flex items-center justify-center bg-red-200 text-red-600 rounded-full h-10 w-10">
          <%= heroicon 'hand-thumb-down', options: { class:"h-5 w-5" } %>
        </div>
        <div class="space-y-1">
          <p class="font-semibold text-lg dark:text-slate-200"><%= title %></p>
          <p class="text-sm text-slate-400">Please hit 'submit' to confirm your feedback.</p>
        </div>
        <%= render 'feedbacks/form', target: target, feedback: feedback, score: "negative" %>
      </div>
    <% end %>
  </div>
</div>

<div data-controller="portal" data-portal-close-hotkeys-value="<%= ["Escape"] %>">
  <button data-action="click->portal#open"
          class="flex items-center justify-center rounded-full h-10 w-10 border border-gray-200 dark:border-none bg-white hover:border-gray-300 shadow-sm text-green-600 dark:text-green-400 dark:bg-slate-700">
    <%= heroicon 'hand-thumb-up', options: { class:"h-5 w-5" } %>
  </button>

  <div data-portal-target="container" class="hidden">
    <%= render 'components/modals/backdrop', width: 'md' do %>
      <div class="p-8 space-y-6">
        <div class="flex items-center justify-center bg-green-200 text-green-600 rounded-full h-10 w-10">
          <%= heroicon 'hand-thumb-up', options: { class:"h-5 w-5" } %>
        </div>
        <div class="space-y-1">
          <p class="font-semibold text-lg dark:text-slate-200"><%= title %></p>
          <p class="text-sm text-slate-400">Please hit 'submit' to confirm your feedback.</p>
        </div>
        <%= render 'feedbacks/form', target: target, feedback: feedback, score: "positive" %>
      </div>
    <% end %>
  </div>
</div>